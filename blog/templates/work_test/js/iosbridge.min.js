var mdSmartios=mdSmartios||{};(function(e){if(e.bridge)console.log("mdSmartios.bridge is already defined.");else{if(e.bridge=e.bridge||{},e.bridge.storage={},e.bridge.interfaceWrapper=function(o,n,i,r){let t=Object.assign({},n);null!=t&&""!=t||(t={}),t.cammandId=Math.floor(1e5*Math.random());var a=t.cammandId,c=JSON.stringify(t);"function"==typeof i&&(e.bridge.callbackFunctions[a]=i),"function"==typeof r&&(e.bridge.callbackFailFunctions[a]=r);var d=e.bridge.po._execObjcMethod(o,c);return d},e.bridge.commandInterface=function(o,n,i,r){let t={};t.operation=o,t.params=n,t.cammandId=Math.floor(1e4*Math.random());let a=t.cammandId,c=JSON.stringify(t);"function"==typeof i&&(e.bridge.callbackFunctions[a]=i),"function"==typeof r&&(e.bridge.callbackFailFunctions[a]=r);let d=e.bridge.po._execObjcMethod("commandInterface",c);return d},e.bridge.trackEvent=function(o,n,i){e.bridge.commandInterface("trackEvent",o,n&&n,i&&i)},e.bridge.takePhoto=function(o,n,i){null!=o&&""!=o||(o={}),o.cammandId=Math.floor(1e5*Math.random());let r=o.cammandId,t=JSON.stringify(o);"function"==typeof n&&(e.bridge.callbackFunctions[r]=n),"function"==typeof i&&(e.bridge.callbackFailFunctions[r]=i);let a=e.bridge.po._execObjcMethod("takePhoto4",t);return a},e.bridge.clearWebViewCache=function(){console.log("function:mdSmartios.bridge.clearWebViewCache"),e.bridge.po._execObjcMethod("clearWebViewCache")},e.bridge.callbackFunctions={},e.bridge.callbackFailFunctions={},e.bridge.setCardTitleCBF=void 0,e.bridge.retObjcValue=0,e.bridge.retSnValue="",e.bridge.applicationId="",e.bridge.currentApplianceSubtype="",e.bridge.callbackFunction=function(o,n){console.log("callbackFunction result",o,n);var i=n;if("string"==typeof i)try{i=JSON.parse(i)}catch(e){console.error("callbackFunction parse error",o,e)}var r=e.bridge.callbackFunctions[o],t=e.bridge.callbackFailFunctions[o];void 0!==i.errCode&&"TimeOut"==i.errMessage?-1==i.errCode?-1!=location.href.indexOf("card")&&(bridge.logToIOS("Jump to cardDisconnect.html."),location.href="cardDisconnect2.html"):("function"==typeof t&&t(-1),1==i.isAction&&bridge.popupTimeOut()):"function"==typeof r&&r(i.messageBody||i),delete e.bridge.callbackFunctions[o],delete e.bridge.callbackFailFunctions[o]},e.bridge.po={_execObjcMethod:function(o,n){try{var i=o;null!=n&&""!=n&&(i=i+"?"+n),console.log("Exec "+i);var r=document.createElement("IFRAME");r.setAttribute("src","iosbridge://"+i),document.documentElement.appendChild(r),r.parentNode.removeChild(r),r=null}catch(e){console.log(o+" exception")}return e.bridge.retObjcValue}},e.bridge.jsWindowOnError=function(e,o,n,i){var r={obj:e,arg1:o,arg2:n,arg3:i},t=JSON.stringify(r);console.log("mdSmartios.bridge.jsWindowOnError():"+t)},e.bridge.showAlert=function(o){console.log("function:mdSmartios.bridge.showAlert");var n={};null!=o&&(n.cmdParamers=o);var i=JSON.stringify(n),r=e.bridge.po._execObjcMethod("showAlert",i);return r},e.bridge.goToMeijuPage=function(o,n){console.log("function:mdSmartios.bridge.goToMeijuPage"),o=o||"jumpNative",n=n||{pageName:"service_home",needNavigation:"1",needTabbar:"1"};var i={};i.type=o,i.param=n;var r=JSON.stringify(i),t=e.bridge.po._execObjcMethod("goToMeijuPage",r);return t},!e.bridge.isAndroid){var o=navigator.userAgent;e.bridge.isAndroid=o.indexOf("Android")>-1||o.indexOf("Linux")>-1}e.bridge.pageName="肌肤管家首页";var n=navigator.userAgent.toLowerCase();e.bridge.isMeiju=/meiju|msmart/.test(n),e.bridge.pageViewTracking=function(o,n){if(console.log("pageName:",o),e.bridge.pageName=o,n=n||window.localStorage.getItem("referName"),console.log("referName:",n),window.localStorage.setItem("referName",o),e.bridge.isMeiju){let i={event:"plugin_page_view",eventParams:{module:"插件",bd_name:"厨热",apptype_name:"电热水器",widget_cate:"E2",page_name:o,refer_name:n}};e.bridge.trackEvent(i)}},e.bridge.buttonClickTracking=function(o,n){if(e.bridge.isMeiju){"object"==typeof n&&(n=JSON.stringify(n));let i={event:"plugin_button_click",eventParams:{module:"插件",bd_name:"厨热",apptype_name:"电热水器",widget_cate:"E2",page_name:e.bridge.pageName||"肌肤管家H5页",element_content:o,custom_params:n||""}};console.log("buttonClickTracking:",i),e.bridge.trackEvent(i)}}}})(mdSmartios),function(e,o){console.log("--iPhone bridge--"),-1!=e.navigator.userAgent.indexOf("DEBUG_LOG")&&(console=new Object,console.log=function(e){var o=document.createElement("IFRAME");o.setAttribute("src","ios-log:#iOS#"+e),document.documentElement.appendChild(o),o.parentNode.removeChild(o),o=null},console.warn=function(e){console.log(e)},console.debug=function(e){console.log(e)},console.error=function(e){console.log(e)},console.info=function(e){console.log(e)},console.trace=function(e){console.log(e)}),e.bridge=o.bridge,e.mdSmartios=o,o.bridge.retObjcValue=0}(window,mdSmartios);